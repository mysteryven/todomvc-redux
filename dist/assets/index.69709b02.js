import{c as N,a as C,u as w,b as k,j as a,d as x,e as o,r as g,P as T,f as S}from"./vendor.57cad05d.js";const E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(i){if(i.ep)return;i.ep=!0;const c=t(i);fetch(i.href,c)}};E();const D={list:[],tab:"all"},h=(n,e)=>e.list.find(t=>t.id===n),y=N({name:"counter",initialState:D,reducers:{add:(n,e)=>{n.list.push(e.payload)},toggle:(n,e)=>{const t=h(e.payload.id,n);t&&(t.done=e.payload.done)},edit:(n,e)=>{const t=h(e.payload.id,n);t&&(t.content=e.payload.content)},remove:(n,e)=>{const t=n.list.findIndex(s=>s.id===e.payload);t>-1&&n.list.splice(t,1)},switchMode:(n,e)=>{const t=h(e.payload.id,n);t&&(t.mode=e.payload.mode)},changeTab(n,e){n.tab=e.payload}}}),B=n=>n.todo.list,{add:I,remove:A,toggle:L,edit:v,switchMode:b,changeTab:j}=y.actions;var K=y.reducer;const M=C({reducer:{todo:K}}),m=()=>w(),p=k,O=n=>{const{item:e}=n,t=m();function s(r){const u=r.target.checked;t(L({done:u,id:e.id}))}function i(r){const u=r.target.value;t(v({content:u,id:e.id}))}function c(){t(A(e.id))}function l(){t(b({id:e.id,mode:"edit"}))}function d(r){t(b({id:e.id,mode:"view"})),t(v({id:e.id,content:r.target.value}))}return a("li",{className:x({completed:e.done,editing:e.mode==="edit"}),children:[a("div",{className:"view",children:[o("input",{className:"toggle",type:"checkbox",onChange:s,checked:e.done}),o("label",{onDoubleClick:l,children:e.content}),o("button",{onClick:c,className:"destroy"})]}),o("input",{className:"edit",onChange:i,onBlur:d,value:e.content})]})};let P=10;const F=()=>P++,R="ENTER",_=()=>{const[n,e]=g.exports.useState(""),t=p(B),s=p(d=>d.todo.tab),i=m();function c(d){d.code.toUpperCase()===R&&i(I({content:n,done:!1,mode:"view",id:F()}))}let l;return s==="active"?l=t.filter(d=>!d.done):s==="completed"?l=t.filter(d=>d.done):l=t,o("section",{className:"todoapp",children:a("div",{children:[a("header",{className:"header",children:[o("h1",{children:"todos"}),o("input",{className:"new-todo",onChange:d=>e(d.target.value),onKeyDown:d=>c(d),autoFocus:!0,value:n})]}),o("section",{className:"main",children:o("ul",{className:"todo-list",children:l.map(d=>o(O,{item:d},d.id))})}),a("footer",{className:"footer h-10",children:[a("span",{className:"todo-count",children:[o("strong",{children:t.filter(d=>!d.done).length}),o("span",{children:" items left"})]}),a("ul",{className:"filters",children:[o("li",{children:o(f,{thisTab:"all",children:"All"})}),o("span",{children:" "}),o("li",{children:o(f,{thisTab:"active",children:"Active"})}),o("span",{children:" "}),o("li",{children:o(f,{thisTab:"completed",children:"Completed"})})]})]})]})})};function f({thisTab:n,children:e}){const t=p(c=>c.todo.tab),s=m();function i(c){c.preventDefault(),s(j(n))}return o("a",{onClick:i,className:n===t?"selected":"",children:e})}function q(){return a(T,{store:M,children:[o("a",{target:"_blank",className:"text-lg pt-40 ml-8",href:"https://github.com/mysteryven/todomvc-redux",children:"\u70B9\u51FB\u67E5\u770B\u6E90\u7801"}),o("div",{className:"bg-white mx-auto mt-100 w-2/4",children:o(_,{})})]})}S.exports.render(o(g.exports.StrictMode,{children:o(q,{})}),document.getElementById("root"));
